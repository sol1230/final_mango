CREATE DATABASE final_ProjectDB DEFAULT CHARACTER SET UTF8 COLLATE UTF8_GENERAL_CI;
use final_ProjectDB;

CREATE TABLE ANSWER
(
  ANSWER_UID VARCHAR(200) NOT NULL COMMENT '대표값',
  ANSWER_LIST    VARCHAR(200) NOT NULL COMMENT '문항답변',
  PRIMARY KEY (ANSWER_UID)
) COMMENT '답 문항';

CREATE TABLE QUESTION
(
  QUESTION_UID  VARCHAR(200) NOT NULL COMMENT '대표값',
  QUESTION_LIST VARCHAR(200) NOT NULL COMMENT '문항목록',
  PRIMARY KEY (QUESTION_UID)
) COMMENT '질문';

CREATE TABLE SURVEY
(
  QUESTION_UID VARCHAR(200) NOT NULL COMMENT '설문목록대표값', 
  ANSWER_UID   VARCHAR(200) NOT NULL COMMENT '문항답변대표값'
) COMMENT '설문';

CREATE TABLE SURVEYOR
(
  USER_ID    VARCHAR(200) NOT NULL COMMENT '아이디',
  NAME       VARCHAR(200) NOT NULL COMMENT '이름',
  BIRTH_DATE VARCHAR(200) NOT NULL COMMENT '생년월일',
  PASSWORD   VARCHAR(200) NOT NULL COMMENT '비밀번호',
  PHONE      VARCHAR(200) NOT NULL COMMENT '전화번호',
  PRIMARY KEY (USER_ID)
) COMMENT '설문자';

CREATE TABLE USERS_ANSWER
(
  USER_ID      VARCHAR(200) NOT NULL COMMENT '아이디',
  ANSWER_UID   VARCHAR(200) NOT NULL COMMENT '대표값',
  QUESTION_UID VARCHAR(200) NOT NULL COMMENT '대표값'
) COMMENT '사용자 답변';

ALTER TABLE SURVEY
  ADD CONSTRAINT FK_ANSWER_TO_SURVEY
    FOREIGN KEY (QUESTION_UID)
    REFERENCES ANSWER (ANSWER_UID);

ALTER TABLE SURVEY
  ADD CONSTRAINT FK_QUESTION_TO_SURVEY
    FOREIGN KEY (ANSWER_UID)
    REFERENCES QUESTION (QUESTION_UID);

ALTER TABLE USERS_ANSWER
  ADD CONSTRAINT FK_SURVEYOR_TO_USERS_ANSWER
    FOREIGN KEY (USER_ID)
    REFERENCES SURVEYOR (USER_ID);

ALTER TABLE USERS_ANSWER
  ADD CONSTRAINT FK_ANSWER_TO_USERS_ANSWER
    FOREIGN KEY (ANSWER_UID)
    REFERENCES ANSWER (ANSWER_UID);

ALTER TABLE USERS_ANSWER
  ADD CONSTRAINT FK_QUESTION_TO_USERS_ANSWER
    FOREIGN KEY (QUESTION_UID)
    REFERENCES QUESTION (QUESTION_UID);


-- 질문 목록 채우기
INSERT INTO QUESTION (QUESTION_UID, QUESTION_LIST) 
VALUE ('Q1', '1. 반려동물에 관심이 있나요?')
;
INSERT INTO QUESTION (QUESTION_UID, QUESTION_LIST) 
VALUE ('Q2', '2. 반려동물을 키울 생각이 있나요?')
;
INSERT INTO QUESTION (QUESTION_UID, QUESTION_LIST) 
VALUE ('Q3', '3. 유기동물을 입양할 생각이 있나요?')
;
INSERT INTO QUESTION (QUESTION_UID, QUESTION_LIST) 
VALUE ('Q4', '4. 반려동물을 키울 환경이 준비되어 있나요?')
;
INSERT INTO QUESTION (QUESTION_UID, QUESTION_LIST) 
VALUE ('Q5', '5. 반려동물이 삶의 만족도에 영향을 준다고 생각하시나요?')
;

-- 문항답변 목록 채우기
INSERT INTO ANSWER (ANSWER_UID, ANSWER_LIST) 
VALUE ('E1', '(1) 매우 그렇다')
;
INSERT INTO ANSWER (ANSWER_UID, ANSWER_LIST) 
VALUE ('E2', '(2) 그렇다')
;
INSERT INTO ANSWER (ANSWER_UID, ANSWER_LIST) 
VALUE ('E3', '(3) 그렇지 않다')
;
INSERT INTO ANSWER (ANSWER_UID, ANSWER_LIST) 
VALUE ('E4', '(4) 전혀 그렇지 않다')
;

-- 질문에 답변들
INSERT SURVEY (QUESTION_UID, ANSWER_UID) 
VALUES ('Q1', 'E1'), ('Q1', 'E2'), ('Q1', 'E3'), ('Q1', 'E4'), 
('Q2', 'E1'), ('Q2', 'E2'), ('Q2', 'E3'), ('Q2', 'E4'), 
('Q3', 'E1'), ('Q3', 'E2'), ('Q3', 'E3'), ('Q3', 'E4'),
('Q4', 'E1'), ('Q4', 'E2'), ('Q4', 'E3'), ('Q4', 'E4'),
('Q5', 'E1'), ('Q5', 'E2'), ('Q5', 'E3'), ('Q5', 'E4')
;


-- 설문 완료한 설문자 채우기(5명)
INSERT INTO SURVEYOR (USER_ID, NAME, BIRTH_DATE, PASSWORD, PHONE) 
VALUE ('U1', '유재석', '1972-08-14', '1234', '010-0000-0000')
;
INSERT INTO SURVEYOR (USER_ID, NAME, BIRTH_DATE, PASSWORD, PHONE) 
VALUE ('U2', '김종국', '1973-09-14', '1235', '010-0000-0001')
;
INSERT INTO SURVEYOR (USER_ID, NAME, BIRTH_DATE, PASSWORD, PHONE) 
VALUE ('U3', '손예진', '1982-01-11', '1236', '010-0000-0002')
;
INSERT INTO SURVEYOR (USER_ID, NAME, BIRTH_DATE, PASSWORD, PHONE) 
VALUE ('U4', '아무개', '1998-08-08', '1237', '010-0000-0003')
;
INSERT INTO SURVEYOR (USER_ID, NAME, BIRTH_DATE, PASSWORD, PHONE) 
VALUE ('U5', '손흥민', '1991-04-02', '1238', '010-0000-0004')
;


-- 설문 완료한 설문자 답변
INSERT INTO USERS_ANSWER (USER_ID, ANSWER_UID, QUESTION_UID) 
VALUE ('U1', 'E2', 'Q1')
;
INSERT INTO USERS_ANSWER (USER_ID, ANSWER_UID, QUESTION_UID) 
VALUE ('U1', 'E1', 'Q2')
;
INSERT INTO USERS_ANSWER (USER_ID, ANSWER_UID, QUESTION_UID) 
VALUE ('U1', 'E3', 'Q3')
;
INSERT INTO USERS_ANSWER (USER_ID, ANSWER_UID, QUESTION_UID) 
VALUE ('U1', 'E2', 'Q4')
;
INSERT INTO USERS_ANSWER (USER_ID, ANSWER_UID, QUESTION_UID) 
VALUE ('U1', 'E4', 'Q5')
;

INSERT INTO USERS_ANSWER (USER_ID, ANSWER_UID, QUESTION_UID) 
VALUE ('U2', 'E1', 'Q1')
;
INSERT INTO USERS_ANSWER (USER_ID, ANSWER_UID, QUESTION_UID) 
VALUE ('U2', 'E3', 'Q2')
;
INSERT INTO USERS_ANSWER (USER_ID, ANSWER_UID, QUESTION_UID) 
VALUE ('U2', 'E3', 'Q3')
;
INSERT INTO USERS_ANSWER (USER_ID, ANSWER_UID, QUESTION_UID) 
VALUE ('U2', 'E4', 'Q4')
;
INSERT INTO USERS_ANSWER (USER_ID, ANSWER_UID, QUESTION_UID) 
VALUE ('U2', 'E4', 'Q5')
;

INSERT INTO USERS_ANSWER (USER_ID, ANSWER_UID, QUESTION_UID) 
VALUE ('U3', 'E2', 'Q1')
;
INSERT INTO USERS_ANSWER (USER_ID, ANSWER_UID, QUESTION_UID) 
VALUE ('U3', 'E2', 'Q2')
;
INSERT INTO USERS_ANSWER (USER_ID, ANSWER_UID, QUESTION_UID) 
VALUE ('U3', 'E4', 'Q3')
;
INSERT INTO USERS_ANSWER (USER_ID, ANSWER_UID, QUESTION_UID) 
VALUE ('U3', 'E1', 'Q4')
;
INSERT INTO USERS_ANSWER (USER_ID, ANSWER_UID, QUESTION_UID) 
VALUE ('U3', 'E4', 'Q5')
;

INSERT INTO USERS_ANSWER (USER_ID, ANSWER_UID, QUESTION_UID) 
VALUE ('U4', 'E1', 'Q1')
;
INSERT INTO USERS_ANSWER (USER_ID, ANSWER_UID, QUESTION_UID) 
VALUE ('U4', 'E3', 'Q2')
;
INSERT INTO USERS_ANSWER (USER_ID, ANSWER_UID, QUESTION_UID) 
VALUE ('U4', 'E4', 'Q3')
;
INSERT INTO USERS_ANSWER (USER_ID, ANSWER_UID, QUESTION_UID) 
VALUE ('U4', 'E2', 'Q4')
;
INSERT INTO USERS_ANSWER (USER_ID, ANSWER_UID, QUESTION_UID) 
VALUE ('U4', 'E2', 'Q5')
;

INSERT INTO USERS_ANSWER (USER_ID, ANSWER_UID, QUESTION_UID) 
VALUE ('U5', 'E1', 'Q1')
;
INSERT INTO USERS_ANSWER (USER_ID, ANSWER_UID, QUESTION_UID) 
VALUE ('U5', 'E3', 'Q2')
;
INSERT INTO USERS_ANSWER (USER_ID, ANSWER_UID, QUESTION_UID) 
VALUE ('U5', 'E3', 'Q3')
;
INSERT INTO USERS_ANSWER (USER_ID, ANSWER_UID, QUESTION_UID) 
VALUE ('U5', 'E4', 'Q4')
;
INSERT INTO USERS_ANSWER (USER_ID, ANSWER_UID, QUESTION_UID) 
VALUE ('U5', 'E1', 'Q5')
;